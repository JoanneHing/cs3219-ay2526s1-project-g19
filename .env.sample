# =============================================================================
# PeerPrep Microservices Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Environment Type
# -----------------------------------------------------------------------------
ENVIRONMENT=development  # development | production

# -----------------------------------------------------------------------------
# Service Ports (Development)
# -----------------------------------------------------------------------------
FRONTEND_PORT=5173
QUESTION_SERVICE_PORT=8001
MATCHING_SERVICE_PORT=8002
HISTORY_SERVICE_PORT=8003
USER_SERVICE_PORT=8004
COLLABORATION_SERVICE_PORT=8005
CHAT_SERVICE_PORT=8006

# -----------------------------------------------------------------------------
# Redis Configuration (Development - Internal Docker)
# -----------------------------------------------------------------------------
MATCHING_REDIS_HOST=matching_redis
MATCHING_REDIS_PORT=6379
COLLABORATION_REDIS_HOST=collaboration_redis
COLLABORATION_REDIS_PORT=6379
CHAT_REDIS_HOST=chat_redis
CHAT_REDIS_PORT=6379

# Redis URLs for Services (Development)
MATCHING_REDIS_URL=redis://matching_redis:6379/0
COLLABORATION_REDIS_URL=redis://collaboration_redis:6379/0
CHAT_REDIS_URL=redis://chat_redis:6379/0

# -----------------------------------------------------------------------------
# Database Configuration (Development - Internal Docker)
# -----------------------------------------------------------------------------
QUESTION_DB_HOST=question_db
QUESTION_DB_PORT=5432
QUESTION_DB_NAME=question_db
QUESTION_DB_USER=peerprep
QUESTION_DB_PASSWORD=peerprep_dev_password

MATCHING_DB_HOST=matching_db
MATCHING_DB_PORT=5432
MATCHING_DB_NAME=matching_db
MATCHING_DB_USER=peerprep
MATCHING_DB_PASSWORD=peerprep_dev_password

HISTORY_DB_HOST=history_db
HISTORY_DB_PORT=5432
HISTORY_DB_NAME=history_db
HISTORY_DB_USER=peerprep
HISTORY_DB_PASSWORD=peerprep_dev_password

USER_DB_HOST=user_db
USER_DB_PORT=5432
USER_DB_NAME=user_db
USER_DB_USER=peerprep
USER_DB_PASSWORD=peerprep_dev_password

# Database URLs (Development)
QUESTION_DATABASE_URL=postgresql://peerprep:peerprep_dev_password@question_db:5432/question_db
MATCHING_DATABASE_URL=postgresql://peerprep:peerprep_dev_password@matching_db:5432/matching_db
HISTORY_DATABASE_URL=postgresql://peerprep:peerprep_dev_password@history_db:5432/history_db
USER_DATABASE_URL=postgresql://peerprep:peerprep_dev_password@user_db:5432/user_db

# -----------------------------------------------------------------------------
# Django Configuration (Development)
# -----------------------------------------------------------------------------
DEBUG=true
SECRET_KEY=dev-secret-key-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1,question_service,history_service,user_service

# -----------------------------------------------------------------------------
# Frontend Environment Variables (Development)
# -----------------------------------------------------------------------------
NODE_ENV=development
VITE_QUESTION_SERVICE_URL=http://question_service:8000
VITE_MATCHING_SERVICE_URL=http://matching_service:8000
VITE_HISTORY_SERVICE_URL=http://history_service:8000
VITE_USER_SERVICE_URL=http://user_service:8000
VITE_COLLABORATION_SERVICE_URL=http://collaboration_service:8000
VITE_CHAT_SERVICE_URL=http://chat_service:8000

# -----------------------------------------------------------------------------
# Production Configuration (Override these in .env.prod)
# -----------------------------------------------------------------------------
# PROD_MATCHING_REDIS_URL=redis://your-managed-redis.com:6379/0
# PROD_COLLABORATION_REDIS_URL=redis://your-managed-redis.com:6379/1
# PROD_CHAT_REDIS_URL=redis://your-managed-redis.com:6379/2

# PROD_QUESTION_DATABASE_URL=postgresql://user:pass@prod-db.com:5432/question_db
# PROD_MATCHING_DATABASE_URL=postgresql://user:pass@prod-db.com:5432/matching_db
# PROD_HISTORY_DATABASE_URL=postgresql://user:pass@prod-db.com:5432/history_db
# PROD_USER_DATABASE_URL=postgresql://user:pass@prod-db.com:5432/user_db

# PROD_SECRET_KEY=your-production-secret-key
# PROD_ALLOWED_HOSTS=your-domain.com,api.your-domain.com
