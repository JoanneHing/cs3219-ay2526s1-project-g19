# =============================================================================
# PeerPrep Production Environment Configuration
# =============================================================================
# Copy this to secrets/.env and fill in your actual values
# Usage: cp secrets/.env.example secrets/.env
# =============================================================================

ENVIRONMENT=production
NODE_ENV=production

# Service Ports
FRONTEND_PORT=80
QUESTION_SERVICE_PORT=8001
MATCHING_SERVICE_PORT=8002
HISTORY_SERVICE_PORT=8003
USER_SERVICE_PORT=8004
COLLABORATION_SERVICE_PORT=8005
CHAT_SERVICE_PORT=8006

# Redis Configuration
MATCHING_REDIS_HOST=matching_redis
MATCHING_REDIS_PORT=6379
COLLABORATION_REDIS_HOST=collaboration_redis
COLLABORATION_REDIS_PORT=6379
CHAT_REDIS_HOST=chat_redis
CHAT_REDIS_PORT=6379
MATCHING_REDIS_URL=redis://matching_redis:6379/0
COLLABORATION_REDIS_URL=redis://collaboration_redis:6379/0
CHAT_REDIS_URL=redis://chat_redis:6379/0

# Database Configuration
QUESTION_DB_HOST=question_db
QUESTION_DB_PORT=5432
QUESTION_DB_NAME=question_db
QUESTION_DB_USER=peerprep
QUESTION_DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD_32_CHARS

MATCHING_DB_HOST=matching_db
MATCHING_DB_PORT=5432
MATCHING_DB_NAME=matching_db
MATCHING_DB_USER=peerprep
MATCHING_DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD_32_CHARS

HISTORY_DB_HOST=history_db
HISTORY_DB_PORT=5432
HISTORY_DB_NAME=history_db
HISTORY_DB_USER=peerprep
HISTORY_DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD_32_CHARS

USER_DB_HOST=user_db
USER_DB_PORT=5432
USER_DB_NAME=user_db
USER_DB_USER=peerprep
USER_DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD_32_CHARS

# Database URLs
QUESTION_DATABASE_URL=postgresql://peerprep:CHANGE_ME_SECURE_PASSWORD_32_CHARS@question_db:5432/question_db
MATCHING_DATABASE_URL=postgresql://peerprep:CHANGE_ME_SECURE_PASSWORD_32_CHARS@matching_db:5432/matching_db
HISTORY_DATABASE_URL=postgresql://peerprep:CHANGE_ME_SECURE_PASSWORD_32_CHARS@history_db:5432/history_db
USER_DATABASE_URL=postgresql://peerprep:CHANGE_ME_SECURE_PASSWORD_32_CHARS@user_db:5432/user_db

# Django Configuration
DEBUG=false
SECRET_KEY=CHANGE_ME_DJANGO_SECRET_KEY_50_CHARS_RANDOM
ALLOWED_HOSTS=*

# Service URLs
USER_SERVICE_URL=http://user-service:8000
QUESTION_SERVICE_URL=http://question-service:8000
MATCHING_SERVICE_URL=http://matching-service:8000
HISTORY_SERVICE_URL=http://history-service:8000
COLLABORATION_SERVICE_URL=http://collaboration-service:8000
CHAT_SERVICE_URL=http://chat-service:8000

# Frontend Environment Variables
VITE_QUESTION_SERVICE_URL=/question-service-api
VITE_MATCHING_SERVICE_URL=/matching-service-api
VITE_HISTORY_SERVICE_URL=/history-service-api
VITE_USER_SERVICE_URL=/user-service-api
VITE_COLLABORATION_SERVICE_URL=/collaboration-service-api
VITE_CHAT_SERVICE_URL=/chat-service-api

# Nginx Configuration
NGINX_USER_SERVICE_HOST=user-service
NGINX_QUESTION_SERVICE_HOST=question-service
NGINX_MATCHING_SERVICE_HOST=matching-service
NGINX_HISTORY_SERVICE_HOST=history-service
NGINX_COLLABORATION_SERVICE_HOST=collaboration-service
NGINX_CHAT_SERVICE_HOST=chat-service

# =============================================================================
# Generate secure secrets:
#   python3 -c "import secrets; print(secrets.token_urlsafe(32))"  # DB password
#   python3 -c "import secrets; print(secrets.token_urlsafe(50))"  # SECRET_KEY
# =============================================================================
