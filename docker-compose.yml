# =============================================================================
# PeerPrep Microservices - Master Development Orchestration
# =============================================================================
# This file uses the 'include' pattern to compose all services
# Each service is defined completely in its own docker-compose.yml
#
# DEVELOPMENT:
#   docker-compose up
#   (uses .env by default)
#
# PRODUCTION:
#   docker-compose --env-file .env.prod -f docker-compose.yml -f docker-compose.prod.yml up -d
#   (explicitly specify .env.prod)
#
# Prerequisites:
# 1. Create shared network: docker network create peerprep_shared_network
# 2. Development: Copy .env.sample to .env
#    Production: Copy .env.prod.sample to .env.prod
# =============================================================================

include:
  # Frontend
  - path: ./frontend/docker-compose.yml

  # Backend Services
  - path: ./question_service/docker-compose.yml
  - path: ./matching_service/docker-compose.yml
  - path: ./history_service/docker-compose.yml
  - path: ./user_service/docker-compose.yml
  - path: ./collaboration_service/docker-compose.yml
  - path: ./chat_service/docker-compose.yml

networks:
  shared_network:

# Note: Networks are defined in individual service files
# The shared_network is external and must be created before first run
